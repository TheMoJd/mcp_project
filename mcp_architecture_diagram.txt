```
+-----------------------------------------------------------------------------------+
|                        MODEL CONTEXT PROTOCOL (MCP)                               |
+-----------------------------------------------------------------------------------+

+-------------------+        CONNECTION         +---------------------+
|                   |<------------------------->|                     |
|       HOST        |                           |       SERVER        |
| (LLM Application) |                           | (Context Provider)  |
|                   |                           |                     |
+--------+----------+                           +---------+-----------+
         |                                                |
         |                                                |
         v                                                v
+--------+----------+                           +---------+-----------+
|                   |                           |                     |
|      CLIENT       |<------------------------->|    SERVER HANDLER   |
|                   |                           |                     |
+-------------------+                           +---------------------+

                          PROTOCOL LAYERS
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +-------------+    +---------------+    +-------------+    +----------------+    |
|  |  MESSAGING  |<-->|  PROTOCOL     |<-->|  TRANSPORT  |<-->|  COMMUNICATION |    |
|  |  INTERFACE  |    |  LAYER        |    |  LAYER      |    |  CHANNEL       |    |
|  +-------------+    +---------------+    +-------------+    +----------------+    |
|                                                                                   |
+-----------------------------------------------------------------------------------+

                        TRANSPORT MECHANISMS
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +----------------------+                  +-----------------------------+        |
|  |    STDIO TRANSPORT   |                  |   HTTP WITH SSE TRANSPORT   |        |
|  |                      |                  |                             |        |
|  | - Standard IO        |                  | - Server-Sent Events (SSE)  |        |
|  | - Local processes    |                  | - HTTP POST requests        |        |
|  | - Same-machine comm. |                  | - Remote communication      |        |
|  +----------------------+                  +-----------------------------+        |
|                                                                                   |
+-----------------------------------------------------------------------------------+

                        MESSAGE TYPES (JSON-RPC 2.0)
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +-------------+    +-------------+    +-------------+    +----------------+      |
|  |  REQUESTS   |    |  RESULTS    |    |   ERRORS    |    |  NOTIFICATIONS |      |
|  +-------------+    +-------------+    +-------------+    +----------------+      |
|                                                                                   |
+-----------------------------------------------------------------------------------+

                        CONNECTION LIFECYCLE
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +----------------+    +------------------+    +----------------+                 |
|  | INITIALIZATION |    | MESSAGE EXCHANGE |    | TERMINATION   |                 |
|  | 1. initialize  |--->| - Request/Response    | - clean close |                 |
|  | 2. initialized |    | - Notifications  |--->| - disconnect  |                 |
|  +----------------+    +------------------+    +----------------+                 |
|                                                                                   |
+-----------------------------------------------------------------------------------+

                        BEST PRACTICES & CONSIDERATIONS
+-----------------------------------------------------------------------------------+
|                                                                                   |
|  +------------------+    +---------------+    +------------+    +---------------+ |
|  | TRANSPORT        |    | MESSAGE       |    | SECURITY   |    | DEBUGGING &   | |
|  | SELECTION        |    | HANDLING      |    |            |    | MONITORING    | |
|  | - Local/Remote   |    | - Validation  |    | - TLS      |    | - Logging     | |
|  | - Security needs |    | - Error mgmt  |    | - Auth     |    | - Diagnostics | |
|  +------------------+    +---------------+    +------------+    +---------------+ |
|                                                                                   |
+-----------------------------------------------------------------------------------+
```